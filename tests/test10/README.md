## 测试场景-全局服务的多种访问方式与单例保证

### 测试目的

验证全局级服务的注册与多种访问方式，以及全局单例的一致性保证。对比 `useService` 和 `getRootService` 两种方法获取全局服务的等效性。

### 测试要点

1. **全局服务注册的可累加性**
   - 多次调用 `declareRootProviders([DemoService])` 和 `declareRootProviders([OtherService])`
   - 每次注册不会覆盖或影响已注册的其他服务

2. **全局服务的两种获取方式**
   - 通过组件中的 `useService(ServiceClass)` 访问
   - 通过组件内外都可调用的 `getRootService(ServiceClass)` 访问
   - 两种方法获取的是同一实例，完全等价

3. **全局单例性保证**
   - 所有对同一服务类的引用都指向相同的全局实例
   - 组件内外获取的实例保持同一性（identity equality）
   - 即使通过不同方式获取，也能确保是同一实例

4. **状态同步与响应式更新**
   - 通过任意引用修改服务状态会反映到所有引用处
   - 状态变更能正确更新到界面元素
   - 组件外部修改服务状态也会影响组件内的展示

5. **环境独立性**
   - 全局服务在整个 JavaScript 运行环境中保持单例
   - 可在组件外部访问，适用于路由守卫、API 调用等场景

这个测试说明了框架提供的全局服务机制的灵活性和一致性保证，无论通过哪种方式获取服务实例，都能确保状态的同步和兼容。
